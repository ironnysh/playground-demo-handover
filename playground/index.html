<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Handover Playground</title>
    <style>
      body {
        display: grid;
        place-items: center;
        background: linear-gradient(deeppink, darkorange);
      }

      header {
        font-size: 1em;
        font-family: monospace;
        display: flex;
        align-items: baseline;
        gap: 1rem;
      }

      iframe#wp-playground {
        width: 100%;
        height: 100dvh;
        border: 2px solid currentColor;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Playground Demo</h1>
      <p>Source code <a href="https://github.com/ironnysh/playground-demo-handover" target="_blank" rel="noopener">on
          GitHub</a></p>
    </header>
    <iframe id="wp-playground" title="Demo Handover Playground"></iframe>
    <script type="module">
      import { startPlaygroundWeb } from 'https://unpkg.com/@wp-playground/client/index.js';

      const client = await startPlaygroundWeb({
        iframe: document.getElementById('wp-playground'),
        remoteUrl: `https://playground.wordpress.net/remote.html`,
        blueprint:
        {
          "landingPage": "/?p=4",
          "preferredVersions": {
            "php": "latest",
            "wp": "latest"
          },
          "steps": [
            {
              "step": "login"
            },
            {
              "step": "installPlugin",
              "pluginZipFile": {
                "resource": "url",
                "url": "zips/meta-block-sidebar.zip"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installPlugin",
              "pluginZipFile": {
                "resource": "wordpress.org/plugins",
                "slug": "create-block-theme"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installTheme",
              "themeZipFile": {
                "resource": "url",
                "url": "zips/blue-note.zip"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "runPHP",
              "code": "<?php require_once('/wordpress/wp-load.php'); wp_insert_post(array( 'post_title' => 'Created by a Blueprint', 'post_content' => '<!-- wp:paragraph --><p>How do you update the meta fields?</p><!-- /wp:paragraph --><!-- wp:list --><ul><!-- wp:list-item --><li>Open the <strong><em>Settings</em></strong> sidebar by clicking the window icon next to the blue <em><strong>Update</strong></em> button.</li><!-- /wp:list-item --><!-- wp:list-item --><li>Click the <strong><em>Meta Block Sidebar</em></strong> menu (bellow the <strong><em>Summary</em></strong> menu).</li><!-- /wp:list-item --><!-- wp:list-item --><li>Type the <strong><em>Team name</em></strong> and the <strong><em>date</em></strong> the person joined the company in the respective fields.</li><!-- /wp:list-item --><!-- wp:list-item --><li>Click the blue <em><strong>Update</strong></em> button.</li><!-- /wp:list-item --></ul><!-- /wp:list -->','post_status' => 'publish' ));"
            }
          ]
        },
      });

    </script>
  </body>

</html>
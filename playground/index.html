<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Handover Playground</title>
    <style>
      body {
        display: grid;
        place-items: center;
        background: linear-gradient(deeppink, darkorange);
      }

      header {
        font-size: 1em;
        font-family: monospace;
        display: flex;
        align-items: baseline;
        gap: 1rem;
      }

      iframe#wp-playground {
        width: 100%;
        height: 100dvh;
        border: 2px solid currentColor;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Playground Demo</h1>
      <p>Source code <a href="https://github.com/ironnysh/playground-demo-handover" target="_blank" rel="noopener">on GitHub</a></p>
    </header>
    <iframe id="wp-playground" title="Demo Handover Playground"></iframe>
    <script type="module">
      import { startPlaygroundWeb } from 'https://unpkg.com/@wp-playground/client/index.js';

      const client = await startPlaygroundWeb({
        iframe: document.getElementById('wp-playground'),
        remoteUrl: `https://playground.wordpress.net/remote.html`,
        blueprint:
        {
          "landingPage": "/wp-admin/edit.php",
          "preferredVersions": {
            "php": "8.0",
            "wp": "latest"
          },
          "steps": [
            {
              "step": "login",
              "username": "admin",
              "password": "password"
            },
            {
              "step": "installPlugin",
              "pluginZipFile": {
                "resource": "url",
                "url": "zips/meta-block-sidebar.zip"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installPlugin",
              "pluginZipFile": {
                "resource": "url",
                "url": "zips/search-filter-events.zip"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installPlugin",
              "pluginZipFile": {
                "resource": "wordpress.org/plugins",
                "slug": "create-block-theme"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installTheme",
              "themeZipFile": {
                "resource": "url",
                "url": "zips/blue-note.1.0.1.zip"
              },
              "options": {
                "activate": true
              }
            },
            {
              "step": "installTheme",
              "themeZipFile": {
                "resource": "url",
                "url": "zips/stacks.0.0.3.zip"
              },
              "options": {
                "activate": false
              }
            },
          ]
        },
      });

    </script>
  </body>

</html>